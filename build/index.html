<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Main</title>
    <link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link rel="stylesheet" href="styles/vendor.css">
    <link rel="stylesheet" href="styles/main.css">
  </head>
  <body>
    <div class="wrapper" id="app">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none;"></svg>
      <header class="header">
        <div class="header__nav">
          <site-nav :list="links" @link_click="renderLocation" :navlocation="appLocation"></site-nav>
        </div>
      </header>
      <div class="content" :class="contentMove ? '' : 'content_move'">
        <transition name="move" mode="out-in">
          <page-main v-if="appLocation === 'main'"></page-main>
          <page-gallery v-else :gallerycolumn="column"></page-gallery>
        </transition>
      </div>
      <footer class="footer"></footer>
    </div>
    <script id="site-nav" type="text/x-template">
      <nav class="nav">
        <transition-group name="scale"><a class="nav__link" v-for="(item, index) in list" v-show="item.location === navlocation" :key="item" @click.prevent="setLocation(item, index)">{{ index }}</a></transition-group>
      </nav>
    </script>
    <script id="page-main" type="text/x-template">
      <div>main</div>
    </script>
    <script id="page-gallery" type="text/x-template">
      <div class="gallery">
        <!--div.gallery__system
        div.gallery__system-info.
            scroll-top: {{ galleryScrollTop }}
        div.gallery__system-info.
            display-height: {{ document.documentElement.clientHeight }}
        div.gallery__system-info.
            scroll-height: {{ size.list.height }}
        -->
        <div class="gallery__select">
          <select v-model="galleryColumn" @change="setColumnSize">
            <option v-for="item in columns" :value="item">{{ item }}</option>
          </select>
        </div>
        <div class="gallery__list" @scroll="renderGallery">
          <div class="gallery__list-item" v-for="(item, index) in listAr" @mouseover="itemMouseover" :top="item.top" :style="{height: size.item.height + 'px',width: size.item.width + '%'}">
            <div class="gallery__list-btns"><a class="gallery__list-link gallery__list-link_git" v-if="item.gitlink !== 'http://'" :href="item.gitlink"><i class="fa fa-github"></i></a><a class="gallery__list-link" @click.prevent="loadFrame(item)" :href="item.gitlink"><i class="fa fa-eye"></i></a></div>
            <transition name="frame"><a class="gallery__list-sitelink" @click.prevent="" v-if="!JSON.parse(item.showframe)" :href="item.href" :class="JSON.parse(item.visible) === true ? 'gallery__list-sitelink_load' : ''"><img class="gallery__list-img" :src="item.imgload" alt="" :data-src="item.imgsrc"></a>
              <div class="gallery__list-frame-wrap" v-else="JSON.parse(item.showframe)">
                <div class="gallery__list-frame-loader" v-show="JSON.parse(item.frameload) === false ? true : false"></div>
              </div>
            </transition>
          </div>
        </div>
        <div class="gallery__site">
          <iframe class="gallery__list-frame"></iframe>
        </div>
      </div>
    </script>
    <script src="scripts/vendor.js"></script>
    <script src="scripts/app.js"></script>
  </body>
</html>