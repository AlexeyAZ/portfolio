{"version":3,"sources":["app.js"],"names":["$","Vue","component","props","template","methods","setLocation","item","console","log","$emit","location","data","galleryListHeight","listAr","list","galleryColumn","galleryScrollTop","galleryHeight","mounted","self","window","addEventListener","setGalleryListHeight","$http","get","then","response","arr","i","push","$nextTick","setGalleryItemHeightAttr","$el","querySelector","scrollHeight","setTop","top","document","documentElement","clientHeight","visible","imgload","coef","height","length","getDisplayHeight","clientWidth","loadImg","img","Image","onload","src","checkVisible","e","target","scrollTop","watch","val","oldval","app","el","appLocation","contentMove","links","name","href","sites","createArray","renderLocation","headerMouseover","headerMouseout"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    Vue.component(\"site-nav\", {\r\n        props: [\"list\", \"navlocation\"],\r\n        template: '#site-nav',\r\n        methods: {\r\n\r\n            setLocation: function(item) {\r\n\t\t\t\tconsole.log(item);\r\n                this.$emit(\"link_click\", item.location);\r\n            },\r\n        },\r\n    });\r\n\r\n    Vue.component(\"page-main\", {\r\n        props: [\"list\"],\r\n        template: '#page-main',\r\n    });\r\n\r\n    Vue.component(\"page-gallery\", {\r\n        props: [\"list\"],\r\n        template: '#page-gallery',\r\n        data: function() {\r\n\r\n            return {\r\n                galleryListHeight: 300,\r\n                listAr: this.list,\r\n\t\t\t\tgalleryColumn: 3,\r\n\t\t\t\tgalleryScrollTop: 0,\r\n\t\t\t\tgalleryHeight: null\r\n            }\r\n        },\r\n\t\t\r\n        mounted: function() {\r\n            var self = this;\r\n\r\n            window.addEventListener(\"resize\", function() {\r\n                self.setGalleryListHeight();\r\n            });\r\n\r\n            this.$http.get(\r\n                'json/gallery.json'\r\n            ).then(\r\n                function(response) {\r\n\t\t\t\t\tvar data = response.data;\r\n\t\t\t\t\tvar item = data[0];\r\n\t\t\t\t\tvar arr = [];\r\n\r\n                    for(var i = 0; i < 20; i++) {\r\n\r\n                        arr.push({\r\n                            \"name\": \"site1\",\r\n                            \"href\": \"http://\",\r\n                            \"imgsrc\": \"http://web-dev.pw/images/i_shop.jpg\",\r\n                            \"gitlink\": \"http://\",\r\n                            \"imgload\": \"http://web-dev.pw/images/i_shop.jpg\",\r\n                            \"visible\": \"false\",\r\n\t\t\t\t\t\t\t\"top\": \"0\"\r\n                        });\r\n                    }\r\n\t\t\t\t\t// for (var i = 0; i < 10; i++) {\r\n\r\n\t\t\t\t\t// \tfor(var j = 0; j < data.length; j++) {\r\n\t\t\t\t\t// \t\tarr.push(data[j]);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t// arr.splice(arr.length - 1, 1);\r\n\t\t\t\t\t\r\n                    this.listAr = arr;\r\n\r\n\t\t\t\t\t\r\n                    this.$nextTick(function() {\r\n                        this.setGalleryListHeight();\r\n\t\t\t\t\t\tthis.setGalleryItemHeightAttr();\r\n\t\t\t\t\t\tthis.galleryHeight = this.$el.querySelector(\".gallery__list\").scrollHeight;\r\n                    });\r\n                }\r\n            )\r\n        },\r\n        methods: {\r\n\r\n\t\t\tsetTop: function(item) {\r\n\t\t\t\tif(item.top - this.galleryScrollTop < document.documentElement.clientHeight && item.visible === \"false\") {\r\n\t\t\t\t\treturn item.imgload;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tsetGalleryItemHeightAttr: function() {\r\n\t\t\t\tvar coef = 1;\r\n\t\t\t\tvar height = 1;\r\n\r\n\t\t\t\tfor(var i = 0; i < this.listAr.length; i++) {\r\n\r\n\t\t\t\t\tif (i % this.galleryColumn === 0) {\r\n\t\t\t\t\t\tcoef++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\theight = this.galleryListHeight * (coef - 1);\r\n\t\t\t\t\tthis.listAr[i].top = height;\r\n\t\t\t\t\tconsole.log(height);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n            getDisplayHeight: function() {\r\n                //this.displayHeight = \r\n            },\r\n\r\n            setGalleryListHeight: function() {\r\n                //this.galleryListHeight = (this.$el.clientWidth / 3) / 1.5\r\n                this.galleryListHeight = document.querySelector(\".gallery__list-item\").clientWidth / 1.5;\r\n            },\r\n\r\n\t\t\tloadImg: function() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\t\r\n\t\t\t\tvar img = new Image();\r\n\t\t\t\timg.onload = function () {\r\n\t\t\t\t\tconsole.log(\"image is loaded\");\r\n\t\t\t\t\tconsole.log(self.listAr[2])\r\n\t\t\t\t\tself.listAr[2].imgload = \"http://www.planwallpaper.com/static/images/Nikon-D810-Image-Sample-6.jpg\";\r\n\t\t\t\t}\r\n\t\t\t\timg.src = \"http://www.planwallpaper.com/static/images/Nikon-D810-Image-Sample-6.jpg\";\r\n\t\t\t},\r\n\r\n            checkVisible: function(e) {\r\n\r\n\t\t\t\tthis.galleryScrollTop = e.target.scrollTop;\r\n                console.log(this.galleryScrollTop);\r\n\t\t\t\tconsole.log(\"scroll-height: \" + this.$el.querySelector(\".gallery__list\").scrollHeight)\r\n\t\t\t\tthis.galleryHeight = this.$el.querySelector(\".gallery__list\").scrollHeight;\r\n                for (var i = 0; i < this.listAr.length; i++) {\r\n\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n\r\n            list: function(val, oldval) {\r\n                this.setGalleryListHeight();\r\n            }\r\n        }\r\n    });\r\n\r\n    var app = new Vue({\r\n        el: \"#app\",\r\n        data: {\r\n            appLocation: \"gallery\",\r\n            contentMove: true,\r\n            links: [\r\n                {\r\n                    name: \"Main\",\r\n                    href: \"http://\",\r\n                    location: \"main\"\r\n                },\r\n                {\r\n                    name: \"Gallery\",\r\n                    href: \"http://\",\r\n                    location: \"gallery\"\r\n                },\r\n            ],\r\n            sites: []\r\n        },\r\n\r\n        mounted: function() {\r\n            // this.$http.get(\r\n            //     'json/gallery.json'\r\n            // ).then(\r\n            //     function(response) {\r\n            //         this.createArray(response.data);\r\n            //     }\r\n            // )\r\n        },\r\n\r\n        methods: {\r\n\r\n            createArray: function(arr) {\r\n                this.sites = arr;\r\n            },\r\n\r\n            renderLocation: function(location) {\r\n                console.log(location)\r\n                this.appLocation = location;\r\n            },\r\n\r\n            headerMouseover: function() {\r\n                this.contentMove = !this.contentMove;\r\n                console.log(this.contentMove)\r\n            },\r\n\r\n            headerMouseout: function() {\r\n                this.contentMove = !this.contentMove;\r\n                console.log(this.contentMove)\r\n            }\r\n        }\r\n    })\r\n\r\n});"]}