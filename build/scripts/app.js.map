{"version":3,"sources":["app.js"],"names":["Vue","component","props","template","methods","setLocation","item","index","i","list","length","$emit","location","getNavLinkClass","navlocation","data","listAr","galleryColumn","gallerycolumn","galleryScrollTop","galleryHeight","galleryRowShow","galleryItemSize","height","width","columns","size","imgur","api","album","albumhash","galleryArray","galleryItemTemplate","mounted","console","log","self","window","addEventListener","setGallerySizes","$http","get","headers","then","response","body","tempArray","dataTemplate","description","descriptionArr","replace","split","galleryItemObj","title","link","id","push","renderGallery","error","itemMouseover","loadFrame","showframe","JSON","parse","frameload","frameLoaded","document","documentElement","clientHeight","$el","querySelector","scrollHeight","setGalleryItemHeightAttr","setColumn","coef","top","e","rows","rowTop","coeff","target","scrollTop","j","number","visible","img","Image","onload","imgload","imgsrc","src","watch","val","oldval","app","el","appLocation","contentMove","column","links","name","href","sites","created","createArray","arr","renderLocation","headerMouseover","headerMouseout"],"mappings":"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","file":"app.js","sourcesContent":["\r\nVue.component(\"site-nav\", {\r\n    props: [\"list\", \"navlocation\"],\r\n    template: '#site-nav',\r\n    methods: {\r\n\r\n        setLocation: function(item, index) {\r\n\r\n            for (var i = 0; i < this.list.length; i++) {\r\n\r\n                if(index !== i) {\r\n                    this.$emit(\"link_click\", this.list[i].location);\r\n                }\r\n            }\r\n        },\r\n\r\n        getNavLinkClass: function(item) {\r\n\r\n            if (item.location === this.navlocation) {\r\n                return 'nav__link_active'\r\n            } else {\r\n                return '';\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nVue.component(\"page-main\", {\r\n    props: [\"list\"],\r\n    template: '#page-main',\r\n});\r\n\r\nVue.component(\"page-gallery\", {\r\n    props: [\"list\", \"gallerycolumn\"],\r\n    template: '#page-gallery',\r\n    data: function() {\r\n\r\n        return {\r\n            listAr: [],//this.list,\r\n            galleryColumn: this.gallerycolumn,\r\n            galleryScrollTop: 0,\r\n            galleryHeight: null,\r\n            galleryRowShow: 1,\r\n\t\t\tgalleryItemSize: {\r\n\t\t\t\theight: null,\r\n\t\t\t\twidth: null\r\n\t\t\t},\r\n\t\t\tcolumns: [1,2,3],\r\n            size: {\r\n                item: {\r\n                    height: null,\r\n                    width: null\r\n                },\r\n                list: {\r\n                    height: null,\r\n                    width: null\r\n                }\r\n            },\r\n            imgur: {\r\n                api: {\r\n                    album: 'https://api.imgur.com/3/album/'\r\n                },\r\n                albumhash: '7weNZ'\r\n            },\r\n            galleryArray: [],\r\n            galleryItemTemplate: {\r\n                \"name\": \"site1\",\r\n                \"href\": \"http://\",\r\n                \"imgsrc\": \"http://web-dev.pw/images/i_shop.jpg\",\r\n                \"gitlink\": \"http://\",\r\n                \"imgload\": \"false\",\r\n                \"visible\": \"false\",\r\n                \"top\": \"0\",\r\n                \"imgid\": \"aT2HpJA\"\r\n            }\r\n        }\r\n    },\r\n    \r\n    mounted: function() {\r\n\t\tconsole.log(\"gallery\")\r\n        var self = this;\r\n\r\n        window.addEventListener(\"resize\", function() {\r\n            self.setGallerySizes();\r\n        });\r\n\r\n        this.$http.get(\r\n            this.imgur.api.album + this.imgur.albumhash + '/images',\r\n            {\r\n                headers: {'authorization': 'Client-ID 4a3569e2cd8829f'},\r\n            }\r\n        ).then(\r\n            function(response) {\r\n\r\n                var data = response.body.data;\r\n                var tempArray = [];\r\n\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var dataTemplate = this.galleryItemTemplate;\r\n                    var description = data[i].description;\r\n                    var descriptionArr = description.replace(/\\s/g, '').split(',');\r\n\r\n                    var galleryItemObj = {\r\n                        \"name\": data[i].title,\r\n                        \"href\": descriptionArr[0],\r\n                        \"imgsrc\": data[i].link,\r\n                        \"gitlink\": descriptionArr[1],\r\n                        \"imgload\": \"false\",\r\n                        \"visible\": \"false\",\r\n                        \"top\": \"0\",\r\n                        \"imgid\": data[i].id,\r\n                        \"showframe\": \"false\",\r\n                        \"frameload\": \"false\"\r\n                    }\r\n                    console.log(galleryItemObj);\r\n\r\n                    tempArray.push(galleryItemObj);\r\n                }\r\n                \r\n                this.listAr = tempArray;\r\n\r\n                this.setGallerySizes();\r\n                this.renderGallery();\r\n            },\r\n\r\n            function(error) {\r\n                console.log('error');\r\n                console.log(error);\r\n            }\r\n        )\r\n    },\r\n    methods: {\r\n\r\n        itemMouseover: function() {\r\n        },\r\n\r\n        loadFrame: function(item) {\r\n            item.showframe = !JSON.parse(item.showframe);\r\n\r\n            // if(item.showframe === false) {\r\n            //     item.frameload === \"false\";\r\n            // }\r\n            if (item.frameload === \"true\") {\r\n                item.frameload = \"false\";\r\n            }\r\n\r\n            // console.log(item.frameload)\r\n        },\r\n\r\n        frameLoaded: function(item) {\r\n            item.frameload = \"true\";\r\n        },\r\n\r\n        setGallerySizes: function() {\r\n\t\t\tthis.size.item.height = document.documentElement.clientHeight / this.galleryColumn;\r\n\t\t\tthis.size.item.width = 100 / this.galleryColumn;\r\n            this.size.list.height = this.$el.querySelector(\".gallery__list\").scrollHeight;\r\n\t\t\tthis.setGalleryItemHeightAttr();\r\n        },\r\n\r\n\t\tsetColumn: function() {\r\n\t\t\tthis.setGallerySizes();\r\n\t\t\tthis.renderGallery();\r\n\t\t},\r\n\r\n        setGalleryItemHeightAttr: function() {\r\n            var coef = 1;\r\n            var height = 1;\r\n\r\n            for(var i = 0; i < this.listAr.length; i++) {\r\n\r\n                if (i % this.galleryColumn === 0) {\r\n                    coef++;\r\n                }\r\n\r\n                height = this.size.item.height * (coef - 1);\r\n                this.listAr[i].top = height;\r\n            };\r\n        },\r\n\r\n        renderGallery: function(e) {\r\n            \r\n            var self = this;\r\n            var rows = 0;\r\n            var rowTop = 0;\r\n            var coeff = 0;\r\n\r\n            if(e) {\r\n                this.galleryScrollTop = e.target.scrollTop;\r\n            } else {\r\n                this.galleryScrollTop = this.$el.querySelector(\".gallery__list\").scrollTop;\r\n            }\r\n\r\n            for(let i = 0; i < this.listAr.length; i++) {\r\n                \r\n                if (this.listAr[i].top !== rowTop) {\r\n                    rowTop = this.listAr[i].top;\r\n                    rows++;\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < rows; i++) {\r\n                \r\n                if ((this.size.item.height * i - this.galleryScrollTop) < document.documentElement.clientHeight) {\r\n                    \r\n                    for (let j = 0; j < this.galleryColumn; j++) {\r\n                        let number = j + coeff;\r\n\r\n                        if (typeof this.listAr[number] !== \"undefined\" && this.listAr[number].visible === \"false\") {\r\n\r\n                            var img = new Image();\r\n                            img.onload = function() {\r\n                                self.listAr[number].imgload = self.listAr[number].imgsrc;\r\n                                self.listAr[number].visible = \"true\";\r\n                            }\r\n\r\n                            img.src = this.listAr[number].imgsrc;\r\n\r\n                        }\r\n                    }\r\n                    coeff += this.galleryColumn;\r\n                }\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n\r\n        list: function(val, oldval) {\r\n            //this.setGallerySizes();\r\n        }\r\n    }\r\n});\r\n\r\nvar app = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        appLocation: \"gallery\",\r\n        contentMove: true,\r\n\t\tcolumn: 2,\r\n        links: [\r\n            {\r\n                name: \"Main\",\r\n                href: \"http://\",\r\n                location: \"main\"\r\n            },\r\n            {\r\n                name: \"Gallery\",\r\n                href: \"http://\",\r\n                location: \"gallery\"\r\n            },\r\n        ],\r\n        sites: []\r\n    },\r\n\r\n\tcreated: function() {\r\n\t\tconsole.log(\"created\")\r\n\t},\r\n\r\n    methods: {\r\n\r\n        createArray: function(arr) {\r\n            this.sites = arr;\r\n        },\r\n\r\n        renderLocation: function(location) {\r\n            this.appLocation = location;\r\n        },\r\n\r\n        headerMouseover: function() {\r\n            this.contentMove = !this.contentMove;\r\n        },\r\n\r\n        headerMouseout: function() {\r\n            this.contentMove = !this.contentMove;\r\n            console.log(this.contentMove)\r\n        }\r\n    }\r\n})"]}